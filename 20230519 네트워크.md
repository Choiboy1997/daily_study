- ICMP
- Mac adress를 오래 저장하면 mac adress가 바뀌거나 IP주소가 바뀔 때  오래 걸리게 된다.
- ARP-d 커맨드를 통해 ARP 캐시 테이블을 삭제할 수 있다. 이를 통해 잘못된 mac주소와 통신하는 것이 아닌 새로 변경된 mac 주소를 들여올 수 있다.
- TCP 할 때 세션을 맺어야 한다.
- PPT에 threeway handshake통신 과정 보기

### 네트워크 통신 구조

[nse-3677462276219779743-1000001659.pdf](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/55ae928f-f43f-40bd-908c-2cc18519803e/nse-3677462276219779743-1000001659.pdf)

## IPv4

### IPv4 특징

- 8bit인 octect 4자리로 구성됨
- 하나의 옥텟마다 10진수로 표현할 수 있음
- 네트워크와 호스트 주소가 나누어져 있지 않다.

### IPv4의 규칙

- 나눠줄 수 있는 개수를 미리 정한다.
- 나눠줄 때 최대 중간 최소 규모로 나눠서 회사의 규모에 따라 IP주소를 매겼었다.
- 호스트 주소가 모두 0이면 IP주소로 쓰지 않는다.
- 호스트 주소가 모두 1이면 broadcast이다.

### 서브넷 마스크 특징:

- 서브넷 마스크는 255.255.0.0과 같은 식으로 등급에 따라 네트워크의 주소 길이가 달라진다.
- IANA는 기업 명이 아닙니다. IANA는 **Internet Assigned Numbers Authority**의 약자로, 전 세계적으로 유일한 인터넷 식별자를 조정하는 역할을 합니다. 이 기능은 ICANN의 계열사인 Public Technical Identifiers에서 제공됩니다 .
- IP는 지역별로 관리하는 기관이 있다.
- 서브네팅: 임의대로 네트워크를 더 나눠서 분할해서 사용한다.

- 서브네팅 하는 과정: C등급 네트워크가 있다는 가정 하에 설명함 202.147.10.0 이라는 네트워크를 6개의 서브네트워크로 분할 하려면 앞의 세 octect은 자신이 소유한 네트워크의 이름이기에 마지막 octect으로만 서브네팅을 해야한다.
- 6개의 네트워크로 나누기 위해선 3bit만큼의 공간이 필요하기 때문에 총 8bit의 옥텟중 3bit를 제외한 5bit가 하나의 서브네트워크가 가지는  IP주소가 된다. 0,32,64,96… 을 각각의 서브네트워크로 만들어준다.
- 0으로 만들어주는 숫자가 서브넷 마스크의 값이 되므로 255.255.255.224가 서브넷 마스크의 주소이다.
- 서브넷 마스크를 더하면 네트워크 주소가 나온다.
- 전통적인 구분은 클래스지만 지금은 서브네트워크의 탄생으로 클래스를 구분 짓지 않는다. 지금은 클래스리스한 방식이다.
- 서브넷 마스크를 표현하기 너무 길고 복잡하므로 PREFIX를 통해 서브넷 마스크가 가지고 있는 1의 개수를 수로 표현해서 IP주소의 뒤에 쓴다. 이를 CIDR(classless interface domain routing)이라 한다.
- PREFIX는 기존의 32bit를 5bit로 표현하게 됨으로써 메모리를 줄여주었다.

### 서브넷 마스크 특징:

- 32bit로 되어 있다
- 10진수로 되어있다.
- 1의 연속으로 되어 있지만 한번 0이 나오면 다시는 1이 나올 수 없습니다.
- 서브넷 마스크가 될 수 있는 수: 128, 192, 224, 240, 248, 252, 254, 255

### collision domain

- 

### broadcast domain

- 

### 허브 특징:

- 전기적인 시그널이 들어가면 증폭 시켜주고 잡음을 없애준다.
- PC를 추가하거나 삭제해도 이어준다.
- 허브나 리피터는 브로드캐스트, Collision domain을 나누는 장치도 아니다.

collision domain과 브로드캐스트 도메인 뭔지 생각해보기

네트워크 간 통신을 하면 Mac 번호를 처음엔 모른다. 패킷 구성후에 라우터의 Mac주소를 찾아 붙이고 라우터에 붙인 후에

### 라우터:

- 라우터간의 통신은 패킷 단위로 이루어진다.
- 라우터와 라우터간의 IP는 라우터당 하나의 IP 총 2개의 IP가 필요하다.
- 라우터의 꼽는 곳을 포트라고 하지 않고 인터페이스라고 한다. 인터페이스 당 하나의 IP가 필요하며 라우터에 여러개의 인터페이스가 있을 수 있다.

### 방화벽:

- 방화벽으로 막히는 IP들의 리스트가 ACL이고 하나하나의 IP를 ACE(access cotrol entry)라고 한다.
- 트래픽이 넘칠 시에 방화벽을 열어버린다.
- 방화벽은 IP와 TCP만 볼 뿐이지 IP를 속여서 들어오면 통과된다.

### Load balancer

- 모든 트래픽을 Virtual Ip로 받아서 server pool에 있는 서버에게 나눠준다.
- 방화벽 로드 밸러스인 FWLB와 서버 로드 SLB가 있다.

### IDS,IPS

- IDS: 침입 탐지 시스템
- IPS: 침입 방지 시스템
- 이 둘을 라우터 위에 올려서 보안을 향상시킨다.

- 현재의 네트워크 구조: IPS → 라우터 → FWLB → 방화벽 → SLB → 스위치 → pc, IDS (네트워크 내부에서의 공격을 감지한다)

- 인터넷을 쓰지 않는 환경에서도 IP가 필요하기 때문에 사설 IP라는 걸 만들어냄 특수 목적의 주소로 나오게 됨 인터넷상에 나오지 않는 조건으로 쓸 수있다
- Broadcast domain는 네트워크를 넘어갈 수 없게 라우터를 넘어갈 수 없다.

- 서브네팅 더 풀어보기
