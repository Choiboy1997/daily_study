# 20230517  OSI 7 Layer 공부

[https://shlee0882.tistory.com/110](https://shlee0882.tistory.com/110) 이 사이트 보고 공부하기

OSI 7계층 전부 외우기

- OSI 7 Layer : 계층별 PDU를 로켓 엔진으로 생각해보자
각 layer별로 사용하는 데이터가 다르다
7. application : 우리가 흔히 아는 프로그램들 google같은 웹페이지, http등  전부 application이다 
6. presentation: 파일 형식 .txt, .mp3와 같은 데이터의 파일 형식을 나타낸다.
5. session: 가상의 연결을 한다 (통신의 시작) 신뢰성 있는 전송: TCP 신뢰성 없는 전송 : UDP
      이 둘 뿐만 아니라 다른 식으로도 보낼 수 있다.
       TCP:  장점: 신뢰성 있다. 단점: 무겁다
       UDP: 장점: 가볍다 단점: 신뢰성 없다. UDP는 검증 단계 없이 데이터를 보내기만 한다.
    
           최근엔 TCP에서 UDP로 넘어가는 추세
    4. transport: 
    3. network: 주소를 써야함
    
    스위치는 당연히 네트워크에 계층 에서도 작동 해야 한다.
    
    데이터를 수신 받아야 하는 기기가 어느 subnetwork에 속해 있는지도 모르는 채로 라우터만을 통해서 보내 버리면 데이터를 전달 받을 수 없다. 하지만 이는 LAN카드 즉 MAC 주소만 지원 하기 때문에 네트워크 통신을 위해선 라우터가 필수적이다.
    2. data link: 미디어(케이블이나 주파수)에 따라서 어떻게 보낼지 결정,
    물리적인 주소를 사용
    csma/cd(collision detected): 유선으로 전기적인 시그널 파악
    csma/ca(collision avoidance): 무선은 csma는 맞지만 충돌을 관측하는 것이 아닌
    제비뽑기를 통해서 충돌을 회피하는 방식을 쓴다.
    1. physical: 빛으로 보낼 것인지 전기적으로 보낼것인지 등 물리적인 것들 결정
    

서브넷: 네트워크를 여러개의 세부 네트워크로 가상화 시킴

4계층 전송 계층: 신뢰성 여부

- 물리적인 주소가 왜 필요한가:  LAN 카드에는 물리 적인 주소가 있다 (MAC)
논리적인 주소만 쓰면 논리적 주소를 비교해 보기 위해 해당하지 않는 기기들 까지도 CPU를 가동 해야한다. 물리적인 주소도 같이 넣으면 LAN카드만 확인하면 되기 때문에 다른 CPU를 가동 할 필요가 없어진다. 멀티플한 환경에선 물리적인 주소가 필요하다. 
하지만 P2P 환경에선 논리적인 주소를 안 써도 되고 물리적인 주소를 안 써도 된다.

흐름 제어: 2계층, 3계층에서 행하는 것으로 송신 측과 수신 측의 속도 차이를 조정하기 위한 것
하나씩 덧붙이는 과정: encapsulation

각 계층의 프로토콜이 만들어낸 data = PDU(protocol data unit) : 중요함 공부 해야함

- 계층별 PDU: 
7-5: Message
7-4: segement
7-3: packet
7-2: frame (물리적인 주소와 CRC(에러 체크)를 붙인다.)

Frame의 최대 크기는 1518byte이다.
paket의 최대 크기는 1500byte이다.

header와 Tcp의 크기는 20byte이다.

Data는 한번 보낼 때 1460byte만큼 보낼 수 있다.

OSI 7 layer: 국제 표준
