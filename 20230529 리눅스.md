# 20230529 리눅스

### 가장 중요한 것은 권한 관리!

## 리눅스 명령어

- 파일 생성: touch, vi, echo
    - touch: 리눅스에서 파일을 생성하거나 갱신하는 명령어
        - 파일이 존재하지 않을 경우 크기가 0인 파일을 생성
        - 한번에 여러 개의 파일 생성 가능
        - touch 파일이름을 입력하면 파일의 타임스탬프를 업데이트 함
        - stat 명령어를 사용해서 타임스탬프 정보를 확인할 수 있음
        - atime은 접근시간, mtime은 수정시간, ctime은 변경시간을 나타냄
    - vi: 텍스트 에디터
        - 리눅스에서 일반적으로 사용하는 화면 편집기
        - vi를 활용한 편집 모드에서는 커서를 사용할 수 없고 h,j,k,l을 활용하여 이동 할 수 있음
        - 내용 수정: r, cw, cc
        - 내용 삭제: x, dw, dd
        - 복사: yy, Y
        - 붙여넣기: p, P
        - 내용 검색: /, ?
        - 변경사항 저장:  :w
        - 종료:   :q
    - echo: 문자열 출력 명령어
        - echo [옵션] [텍스트 및 문자열]의 구성으로 이루어져 있음
        - echo “내용” > [파일명] 을 사용하면 파일을 덮어쓰거나 새로운 파일을 생성함
        - 위와 같은 구성에서 꺽쇠를 두개 쓴다면 새로운 내용을 추가만 함
        - echo 명령어를 이용하여 전역 변수 및 환경 변수의 값을 확인할 수 있음 
        예) echo $SHELL을 입력하면 user의 shell 정보가 출력되고 echo $LANG를 입력하면 인코딩 정보가 출력됨
- 파일 복사: cp
- 파일 이름 바꿀 때, 이동할 때 mv
- 이름 바꿀 때 : mv test.txt data.txt
- 다른 위치로 이동할 때: mv data.txt /user/local/src
- 삭제: rm
    - 파일을 삭제할 때: rm test.txt
    - 비어있는 디렉토리 삭제할 때 : rm -r data
    - 파일이 있는 디렉토리 삭제할 때 : rm -rf data ( f: force)
- vi: 오래된 UNIX에서 사용하는 편집기: hjkl(좌하상우)
- vim: 최근에 LUNUX를 위해 만든 편집기( 사용이 편리, vim이 설치되면 vi명령도 vim으로 처리)
- 디렉토리 생성: mkdir
- 시스템 종료:
    - shutdown -h now // -h: halt, now: 즉시
    - init 0
- 시스템 재부팅:
    - shutdown -r
    - init 6
    - reboot
- 파일 내용 읽기
    - cat 파일명
    - less 파일명            //종료할 때는 q
    - head 파일명          //기본 10줄
    - head -20 파일명
    - tail 파일명
    - tail -f 파일명          //종료하지 않고 계속 읽어오기
- cat /etc/group
    - 그룹이름: 비밀번호: 그룹id: 그룹에 속한 사용자
    - rootx:0
- useradd 사용자: 사용자 만듬 //redhat 계열은 useradd로도 홈 디렉토리가 만들어짐
- useradd 옵션들
- [Tab]키를 누르면 뒷부분이 자동 완성 됨
- [\]: back slash는 특수문자의 기능을 하지 못하게 하는 것 —> Escape처리라고 함
- FTP(file transfer protocol)
- SetUID
    - passwd라는 명령은 root의 소유, root만 사용할 수 있음
    - 일반사용자(bts)도 자신의 패스워드를 바꿀 수 있어야 함 —> 임시로 root 권한이 필요해짐
    - passwd 명령을 사용하는 순간 일반 사용자도 root권한으로 패스워드 변경을 할 수 있어야 함
    - 이를 위해서 SetUID권한이 필요하기 때문에 -rws-xr-x권한을 부여하게 됨
    - rwx가 아닌 rws 권한임  4755
    - rws: —> **4**755    //4는 이진수로 100이고 100은 SetUID이므로
- SetGID
    - -r—r-sr— 과 같이 group의 x칸에 대신 s가 들어간다
- Stickybit
    - drwxrwxrwt 처럼 권한의 마지막 x칸에 t 가 들어간다.
- Hash Function
    - 파일이나 텍스트를 넣으면 Hash code가 출력됨
    - 해시함수는 요약을 반복하는 함수
    - 파일이나 텍스트가 다르면 해시값도 다름 → 무결성 검사 가능
    - 해시값이 다르면 파일이나 텍스트가 다르다는 것을 의미함
    1. 일방향 함수(역연산 불가)
        1. 해시 함수와 해시값을 알아도 파일이나 텍스트를 만들어 낼 수 없음
    2. 충돌 방지: 원문이 다르면 해시값도 다름 → 무결성
        1. 충돌은 원문이 다른데 해시 값이 같은 경우

- 압축하는 법, 푸는법
    - xzip
        - 압축 풀기: xz -d
    - bzip
        - 압축 풀기: bzip -d
    - gzip
        - 압축풀기: gzip -d
    - zip
        - 압축풀기: 뭐였지..
